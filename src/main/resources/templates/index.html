<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>youtube-search-sample</title>
    <!-- Boot Strap 外部から取得 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <!-- thymeleafでのCSS適用のため thタグ -->
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>

<header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <span class="navbar-brand">Youtube Search Sample</span>
    </nav>
</header>

<div class="container">
    <h1> 動画一覧サンプルページ </h1>
</div>

<script>
    // 画面読み込み時に動作
    $(document).ready(function () {
        console.log('動画一覧取得を開始します。');

        // RestControllerへリクエストを送信する
        $.ajax({
            // 通信設定
            url: "http://localhost:8080/youtube/v1/search/miko/movies", // みこちの最新動画一覧取得
            type: "POST", // post
            data: "", // 送信するデータ
            dataType: "json", // Responseタイプ (xml/html/script/json/jsonp/text)
            timespan: 3000 // タイムアウト値

        }).done((result) => {
            console.log('データ取得に成功しました。');
            console.log(result);

        }).fail(() => {
            console.log('通信に失敗しました。');
            alert('通信に失敗しました。');
        });

    });
</script>
</body>
</html>